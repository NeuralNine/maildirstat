<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>maildirstat</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body data-grouped="{{ 1 if grouped else 0 }}">
    <div id="toolbar">
        <button id="choose-file" type="button">Choose file</button>
        <input id="file-input" type="file" hidden>
        <span id="file-name">No file selected</span>
        <label id="top-k-wrap">
            Top K
            <input id="top-k" type="number" min="1" value="100">
        </label>
        <label>
            <input id="grouped-toggle" type="checkbox" {{ 'checked' if grouped else '' }}>
            Group by sender
        </label>
        <button id="apply-view" type="button">Load</button>
    </div>

    <div id="layout">
        <div id="treemap-panel">
            <div id="treemap"></div>
        </div>

        <div id="right-panel">
            <div id="mail-list-wrap">
                <table>
                    <thead>
                        <tr>
                            <th class="subject-col">Subject</th>
                            <th class="from-col">From</th>
                            <th class="date-col">Date</th>
                            <th class="size-col">Size</th>
                        </tr>
                    </thead>
                    <tbody id="mail-list"></tbody>
                </table>
            </div>

            <div id="content">Choose a file and click Apply.</div>
        </div>
    </div>

    <script id="mails-data" type="application/json">{{ mails_meta|tojson }}</script>
    <script id="groups-data" type="application/json">{{ groups_meta|tojson }}</script>
    <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>

</html>
